<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Message components </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Message components ">
    <meta name="generator" content="docfx 2.59.2.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="message-components">Message components</h1>

<h2 id="description">Description</h2>
<p>Discord provides functions to create and handle buttons, select lists in messages, it called as Discord components and you can read about it in discord's documentation.</p>
<p>DidiFrame contains classes from each discord component: <a href="../api/DidiFrame.Entities.Message.Components.MessageButton.html">MessageButton</a>, <a href="../api/DidiFrame.Entities.Message.Components.MessageLinkButton.html">MessageLinkButton</a>, <a href="../api/DidiFrame.Entities.Message.Components.MessageSelectMenu.html">MessageSelectMenu</a> (Component row is not visual component, discord uses it only as container).</p>
<p>Each of them you can add into message using ComponentsRows property in <a href="http://localhost:8080/api/DidiFrame.Entities.Message.MessageSendModel.html">MessageSendModel</a>.</p>
<p>Note: MessageComponentRow is container for other components from discord, it represent one row of components, them will be rendered in row.</p>
<p>DidiFrame provides <a href="../api/DidiFrame.Interfaces.IInteractionDispatcher.html">IInteractionDispatcher</a> interface implementation for each message that bot sends (If you try attach to non bot message nothing will happen).
To access it call <code>GetInteractionDispatcher()</code> on message.</p>
<p>It has two methods: <code>Attach&lt;TComponent&gt;(string, AsyncInteractionCallback&lt;TComponent&gt;)</code> and <code>Detach&lt;TComponent&gt;(string, AsyncInteractionCallback&lt;TComponent&gt; callback)</code> where TComponent is IInteractionComponent.
The first adds handler, the second removes. Handler is special delegates, but it is simple handlers, nothing unusual, but as result every handler must return interaction result that will be displayed to user.</p>
<p>As first parameter both methods accepts string of interaction component to handle.</p>
<h2 id="component-interface">Component interface</h2>
<p>DidiFrame provides two interfaces: <a href="">IComponent</a> and <a href="">IInteractionComponent</a>.</p>
<ul>
<li>The first is simple component (like <a href="../api/DidiFrame.Entities.Message.Components.MessageLinkButton.html">MessageLinkButton</a>), doesn't create any interactions. This components can be used only as visual componets.</li>
<li>The second inherits the first, but supports interactions, it can be used in <a href="../api/DidiFrame.Interfaces.IInteractionDispatcher.html">IInteractionDispatcher</a>.</li>
</ul>
<h2 id="using-example">Using example</h2>
<pre><code class="lang-cs">var id = message.GetInteractionDispatcher();

id.Attach&lt;MessageButton&gt;(&quot;demo_bnt&quot;, ctx =&gt;
{
	//Do something
	return new(new MessageSendModel(&quot;Hello from demo button&quot;));
})

//To detach use functions

</code></pre>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
